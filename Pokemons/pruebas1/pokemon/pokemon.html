<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Pokemon fight</title>
    <script src="jQuery/jquery-3.4.1.min.js" type="text/javascript"></script>

    <script>
        //No pongo el fondo en rojo de un pokemon muerto porque cuando muere no se le puede seleccionar y ademas cuando se muere hay un
        //cambio automatico de pokemon.
        //Document.getElementById("HpOpponent").textContent = ditto.hp;

        let pokeballsDisponibles = 2;
        let pokemonActual = "Pikachu";

        function name() {
            alert("Lanza pokeballs " + articuno.hpMaxima);
        }

        // Prototipo de Pokeball
        function Pokeball() {
            // Método para intentar la captura
            this.intentarCaptura = function (pokemon) {
                // Verifica si hay Pokeballs disponibles
                if (pokeballsDisponibles > 0) {
                    // Calcula la probabilidad de captura
                    alert("lanzando..");
                    let f = (pokemon.hpActual / pokemon.hpMaxima) * 255 / 3;

                    // Genera un número aleatorio entre 0 y 255
                    let numeroAleatorio = Math.floor(Math.random() * 256);

                    // Compara el número aleatorio con la probabilidad de captura
                    if (numeroAleatorio > f) {
                        console.log(`Captura exitosa! Has capturado a ${pokemon.nombre}.`);
                        pokeballsDisponibles--;  // Decrementa el número de Pokeballs disponibles
                        alert(`Pokeballs restantes: ${pokeballsDisponibles}`);
                        document.getElementById("pokebola").textContent = "Pokeballs :" + pokeballsDisponibles;
                        //si ganas salta pantalla de inicio con el texto has ganado ->
                        window.location.href = "finCapturado.html";
                        return true;  // Captura exitosa
                    } else {
                        console.log(`La captura ha fallado. ${pokemon.nombre} ha escapado.`);
                        pokeballsDisponibles--;  // Decrementa el número de Pokeballs disponibles
                        alert(`Pokeballs restantes: ${pokeballsDisponibles}`);
                        document.getElementById("pokebola").textContent = "Pokeballs :" + pokeballsDisponibles;
                        ataqueEnemigo();
                        return false;  // Captura fallida
                    }
                } else {
                    console.log("No te quedan Pokeballs disponibles.");
                    return false;  // No hay Pokeballs disponibles
                }
            };
        }

        // Prototipo de Pokémon
        function Pokemon(nombre, nivel, hp, ataque, defensa, ataqueESP, defensaESP, velocidad, hpMaxima, movimientos, tipo1, tipo2) {
            this.nombre = nombre;//
            this.nivel = nivel;//
            this.hp = hp;//
            this.ataque = ataque;
            this.defensa = defensa;
            this.ataqueESP = ataqueESP;
            this.defensaESP = defensaESP;
            this.velocidad = velocidad;//
            this.movimientos = movimientos || [];//->
            this.hpMaxima = hpMaxima;//
            this.tipo1 = tipo1;
            this.tipo2 = tipo2 || null;


            // Getter para obtener el nombre completo del Pokémon
            this.getHp = function () {
                return `${this.hp}`;
            };

            // Setter para actualizar el nivel del Pokémon
            this.setHp = function (nuevoHp) {
                this.hp = nuevoHp;
            };

            this.setVelocidad = function (nuevoVelocidad) {
                this.velocidad = nuevoVelocidad;
            };



            this.setTipo1 = function (nuevoTipo1) {
                this.tipo1 = nuevoTipo1;
            };


            this.setTipo2 = function (elNuevo) {
                this.tipo2 = elNuevo;
            };

            this.setDefensa = function (elNuevo) {
                this.defensa = elNuevo;
            };

            this.setAtaque = function (elNuevo) {
                this.ataque = elNuevo;
            };

            this.setAtaqueESP = function (elNuevo) {
                this.ataqueESP = elNuevo;
            };
            this.setDefensaESP = function (elNuevo) {
                this.defensaESP = elNuevo;
            };

            this.setMovimiento = function (movimientosNuevos) {
                this.movimiento = [];
                /*
                for (let index = 0; index < vectorMovimientosArticuno.length; index++) {
                    this.movimiento[index] = vectorMovimientosArticuno[index].slice();
                    this.movimiento[index].setPp(5);
                }
                */
                //this.movimiento = [].concat(vectorMovimientosArticuno);
                // this.movimiento = [...vectorMovimientosArticuno];
                var movimientos2 =  movimientosNuevos.slice();
                this.movimiento = movimientos2.slice();

                
                
            };
        }




        // Prototipo de Movimiento
        function Movimiento(nombre, potencia, precision, pp, objetivo, tipo, categoria) {
            this.nombre = nombre;
            this.potencia = potencia;
            this.precision = precision;
            this.pp = pp;
            this.objetivo = objetivo;
            this.tipo = tipo;
            this.categoria = categoria; // Puede ser "Físico", "Especial" o "Estatus"

            this.setPp = function (elNuevo) {
                this.pp = elNuevo;
            };
        }

        // Instancias de Pikachu, Ditto y Articuno con los atributos proporcionados
        //nombre, nivel, hp, ataque, defensa, ataqueESP, defensaESP, velocidad,hpMaxima, movimientos, tipo1,  tipo2
        const miPokeball = new Pokeball();
        var pikachu = new Pokemon(
            "Pikachu",
            50,
            142,
            100,
            83,
            94,//atesp
            94,//defesp
            138,
            142,
            [
                new Movimiento("Thunderbolt", 90, 100, 15, "Objetivo único", "Eléctrico", "Especial"),
                new Movimiento("Thunder Wave ", 0, 100, 20, "Objetivo único", "Eléctrico", "Estatus"),
                new Movimiento("Agility", 0, 100, 30, "Self", "Normal", "Estatus"),
                new Movimiento("Tackle", 35, 95, 35, "Objetivo único", "Normal", "Fisico")

            ],
            "Eléctrico",


        );
        //nombre, nivel, hp, ataque, defensa, ataqueESP, defensaESP, velocidad,hpMaxima, movimientos, tipo1,  tipo2
        var ditto = new Pokemon(
            "Ditto",
            50,
            155,
            61,
            110,
            61,//atesp
            94,//defesp
            110,
            155,
            [
                new Movimiento("Transformación", 0, 100, 10, "Objetivo único", "Normal", "Estatus"),
            ],
            "Normal",
        );
        //nombre, nivel, hp, ataque, defensa, ataqueESP, defensaESP, velocidad,hpMaxima, movimientos, tipo1,  tipo2
        var articuno = new Pokemon(
            "Articuno",
            50,
            181,
            121,
            136,
            131,//atesp
            161,//defesp
            121,
            181,
            [
                new Movimiento("Ice Beam", 95, 100, 10, "Objetivo único", "Hielo", "Especial"),
                new Movimiento("Agility", 0, 100, 30, "Self", "Normal", "Estatus"),//->aumentara la vel del usuario 100$ de su vel Base(atributo vel), ajustar precision de los movimientos
                new Movimiento("Swift", 60, 100, 20, "Objetivo único", "Normal", "Especial"),
                new Movimiento("Steel wing", 70, 90, 25, "Objetivo único", "Acero", "Fisico")
            ],
            "Hielo",
            "Volador"
        );


        function debilidades1(pokemonAtacado, pokemonAtacante, movimiento) {
            // Si Pikachu es el Pokémon atacado
            if (pokemonAtacado.nombre == "Pikachu") {
                if (movimiento.nombre == "Steel Wing") {
                    return 0.5;  // Debilidad de Pikachu a Steel Wing
                } else {
                    return 1;    // Valor por defecto
                }
            }

            // Si Ditto es el Pokémon atacado
            if (pokemonAtacado.nombre == "Ditto") {
                return 1;
            }

            // Si Articuno es el Pokémon atacado
            if (pokemonAtacado.nombre == "Articuno") {
                if (movimiento.nombre == "Thunderbolt") {
                    return 2;  // Debilidad de Articuno a Thunderbolt
                } else {
                    return 1;  // Valor por defecto
                }
            }

            // Valor por defecto si no se cumple ninguna condición
            return 1;
        }


        function Calculardaño(pokemonAtacante, movimientosAtacante, pokemonAtacado) {
            //nivel,ataque, ataqqESP, defensa, defensaEsp tipo1, tipo2
            //Potencia, categoria,
           // var tipo1 = debilidades1(pokemonAtacado, pokemonAtacante, movimientosAtacante);
            //var tipo2 = debilidades1(pokemonAtacado, pokemonAtacante, movimientosAtacante);

            if (movimientosAtacante <= 0) {
                return 0;
            }
            
            var tipo1 = 1;
            var tipo2 = 1;
            var rnd = (Math.floor(Math.random() * 255) + 217) / 255;
            //var daño = ((2 * pokemonAtacante.nivel) / 5) + 2;
            var A;
            var D;

            if (movimientosAtacante.categoria == "Especial") {
                A = pokemonAtacante.ataqueESP;
                D = pokemonAtacado.defensaESP;
            } else {
                A = pokemonAtacante.ataque;
                D = pokemonAtacado.defensa;

            }

            // Verificar si el movimiento es del mismo tipo que alguno de los tipos del atacante
            if (pokemonAtacante.tipo1 === movimientosAtacante.tipo || pokemonAtacante.tipo2 === movimientosAtacante.tipo) {
                stab = 1.5;
            } else {
                stab = 1;
            }

            console.log("a " + A + "D" + D + " tipo1" + tipo1 + "tipò2" + tipo2 + "rnd" + rnd + "daño" + daño);
            //daño = (daño * (movimientosAtacante.potencia * A)) /D  * stab * tipo1 * tipo2 * rnd;
            var daño = (((2 * pokemonAtacante.nivel) / 5 + 2) * movimientosAtacante.potencia * A / D / 50 + 2) * tipo1 * tipo2;
            daño = Math.floor(daño);

            if (movimientosAtacante.nombre == "Steel wing") {
                var probabilidad = Math.floor(Math.random() * 100)
                if (probabilidad <= 70) {
                    return daño;
                } else {
                    alert("fallo el tiro");
                    return 0;
                }
            }

            if (movimientosAtacante.precision == 100) {
                return daño;
            }
            else if (movimientosAtacante.precision == 95) {
                var probabilidad = Math.floor(Math.random() * 100)
                if (probabilidad <= 95) {
                    return daño;
                } else {
                    return 0;
                }
            }

        }

        function guardarVida(objeto, idElemento) {
            document.getElementById(idElemento).textContent = objeto.nombre + " " + objeto.hp + "hp " + objeto.nivel + " lv";
            document.getElementById("pikachu").textContent = "Pikachu: " + pikachu.getHp();
            document.getElementById("ditto").textContent = "Ditto: " + ditto.getHp();
        }

        function resolucionAtaque(vidaOponente, daño, objeto) {
            //alert(vidaOponente);
            if (vidaOponente - daño <= 0) {
                alert(objeto.nombre + " esta muerto!!!");
                var vidaRestante2 = 0;
                objeto.setHp(vidaRestante2);

                if (pikachu.hp == 0 && ditto.hp == 0) {
                    window.location.href = "looser.html";
                }
                else if (objeto.nombre == "Articuno") {
                    guardarVida(objeto, "HpOpponent");
                    window.location.href = "winnerKill.html";
                }
                else if (objeto.nombre == "Ditto") {
                    guardarVida(objeto, "mypokemonHp");
                    seleccionarPersonaje("Pikachu");

                    //ataqueEnemigo();

                }
                else {
                    guardarVida(objeto, "mypokemonHp");
                    seleccionarPersonaje("Ditto");
                    //ataqueEnemigo();

                }


            }
            else {

                var vidaRestante = objeto.hp - daño;
                objeto.setHp(vidaRestante);

                if (objeto.nombre == "Articuno") {
                    guardarVida(objeto, "HpOpponent")
                }
                else if (objeto.nombre == "Ditto") {
                    guardarVida(objeto, "mypokemonHp")
                }
                else {
                    guardarVida(objeto, "mypokemonHp")
                }
            }
        }



        function ataqueMio(nombreAtaque) {
            var vidaOponente = articuno.getHp();


            //alert("Funciona");
            switch (nombreAtaque) {
                case "Thunderbolt":
                    if (pikachu.movimientos[0].pp == 0) {
                        break;
                    }

                    pikachu.movimientos[0].setPp(pikachu.movimientos[0].pp - 1);
                    var daño = Calculardaño(pikachu, pikachu.movimientos[0], articuno);

                    if (articuno.velocidad > pikachu.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }

                    break;

                case "Thunderwave":
                    if (pikachu.movimientos[1].pp == 0) {
                            break;
                    }
                    pikachu.movimientos[0].setPp(pikachu.movimientos[1].pp - 1);
                    var daño = Calculardaño(pikachu, pikachu.movimientos[1], articuno);

                    if (articuno.velocidad > pikachu.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }
                    break;

                case "Agility":
                    
                    if (pokemonActual == "Pikachu") {
                        objeto = pikachu;
                        if (objeto.movimientos[2].pp == 0) {
                            break;
                        }
                        pikachu.movimientos[2].setPp(pikachu.movimientos[2].pp - 1);
                    } else {
                        objeto = ditto;
                        //if (objeto.movimientos[1].pp == 0) {
                        //    break;
                        //}
                        //ditto.movimientos[1].setPp(ditto.movimientos[1].pp - 1);
                    }
                    
                    objeto.setVelocidad(objeto.velocidad * 2);
                    
                    setTimeout(() => {
                        ataqueEnemigo();
                    }, 2000);

                    break;

                case "Tackle":
                    if (pikachu.movimientos[3].pp == 0) {
                        break;
                    }
                    pikachu.movimientos[3].setPp(pikachu.movimientos[3].pp - 1);
                    var daño = Calculardaño(pikachu, pikachu.movimientos[3], articuno);

                    if (articuno.velocidad > pikachu.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }

                    break;

                case "Transformación":
                    ditto.setAtaque(articuno.ataque);
                    ditto.setDefensa(articuno.defensa);
                    ditto.setAtaqueESP(articuno.ataqueESP);
                    ditto.setDefensaESP(articuno.defensaESP);
                    ditto.setVelocidad(articuno.velocidad);
                    ditto.setTipo1(articuno.tipo1);
                    ditto.setTipo2(articuno.tipo2);
                    ditto.setMovimiento(articuno.movimientos.slice());
                    //cambiamos los nombres de los ataques en la intefaz y cambiar la imagen de ditto a la de articuno
                    document.getElementById("mypokemon").setAttribute("src", "img/articuno.png");
                    document.getElementById("attacks3").innerHTML = document.getElementById("attacks2").innerHTML;

                    

                    

                    setTimeout(() => {
                        ataqueEnemigo();
                    }, 2000);

                    break;

                case "Ice Beam":
                    //if (ditto.movimientos[0].pp == 0) {
                    //    break;
                    //}
                    //ditto.movimientos[0].setPp(ditto.movimientos[0].pp - 1);
                    var daño = Calculardaño(ditto, articuno.movimientos[0], articuno);

                    if (articuno.velocidad > ditto.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }

                    break;

                case "Swift":
                    //if (ditto.movimientos[2].pp == 0) {
                    //    break;
                    //}
                    //ditto.movimientos[2].setPp(ditto.movimientos[2].pp - 1);
                    var daño = Calculardaño(ditto, articuno.movimientos[2], articuno);

                    if (articuno.velocidad > ditto.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }

                    break;
                case "Steel wing":
                    //if (ditto.movimientos[3].pp == 0) {
                    //    break;
                    //}

                    //ditto.movimientos[3].setPp(ditto.movimientos[3].pp - 1);
                    var daño = Calculardaño(ditto, articuno.movimientos[3], articuno);

                    if (articuno.velocidad > ditto.velocidad) {
                        ataqueEnemigo();
                        setTimeout(() => {
                            resolucionAtaque(vidaOponente, daño, articuno);
                        }, 2000);
                    } else {
                        resolucionAtaque(vidaOponente, daño, articuno);
                        setTimeout(() => {
                            ataqueEnemigo();
                        }, 2000);
                    }

                    break;

            }

        }

        function ataqueEnemigo() {

            var nombreAtaque = Math.floor(Math.random() * 4)
            pokemonActual
            var objectoPokemon;

            if (pokemonActual == "Pikachu") {
                objectoPokemon = pikachu;
                var vidaOponente = pikachu.getHp();
            } else {
                objectoPokemon = ditto;
                var vidaOponente = ditto.getHp();
            }

            switch (nombreAtaque) {

                case 0:
                    var daño = Calculardaño(articuno, articuno.movimientos[0], objectoPokemon);
                    alert(articuno.movimientos[0].nombre);
                    resolucionAtaque(vidaOponente, daño, objectoPokemon)
                    break;

                case 1:
                    alert(articuno.movimientos[1].nombre);

                    articuno.setVelocidad(articuno.velocidad * 2);

                    alert("velocidad" + articuno.velocidad);
                    break;

                case 2:
                    var daño = Calculardaño(articuno, articuno.movimientos[2], objectoPokemon);
                    alert(articuno.movimientos[2].nombre);
                    resolucionAtaque(vidaOponente, daño, objectoPokemon)
                    break;

                case 3:
                    var daño = Calculardaño(articuno, articuno.movimientos[3], objectoPokemon);
                    alert(articuno.movimientos[3].nombre);
                    resolucionAtaque(vidaOponente, daño, objectoPokemon)
                    break;

            }
        }

        function run() {
            var probabilidad = Math.floor(Math.random() * (100 - 0) + 0);
            alert(probabilidad);
            if (probabilidad <= 20) {
                window.location.href = "finHuir.html";
            } else {
                alert("Pierde el turno y Articuno atacará.");
                ataqueEnemigo();
            }
        }

        //->
        function seleccionarPersonaje(nombrePokemon) {
            alert(nombrePokemon);
            pokemonActual = nombrePokemon;

            if (nombrePokemon == "Ditto" && ditto.getHp() > 0) {
                document.getElementById("mypokemon").setAttribute("src", "img/ditto.png");
                document.getElementById("mypokemonHp").textContent = ditto.nombre + " (HP-" + ditto.getHp() + ") (Lv-" + ditto.nivel + ")";
            }
            else if (nombrePokemon == "Pikachu" && pikachu.getHp() > 0) {
                document.getElementById("mypokemon").setAttribute("src", "img/pikachu.png");
                document.getElementById("mypokemonHp").textContent = pikachu.nombre + " (HP-" + pikachu.getHp() + ") (Lv-" + pikachu.nivel + ")";
                document.getElementById("attacks3").innerHTML = document.getElementById("attacks").innerHTML;
            } else {
                alert(nombrePokemon + " esta muerto y no puedes seleccionarlo");
            }
            ataqueEnemigo();
        }

        var timer;

        $(document).ready(function () {
            // Oculta los divs y su contenido al principio
            $("#infoBox, #actions").hide();

            // Llama a la función mostrarDivs después de 3 segundos
            setTimeout(mostrarDivs, 3000);
        });

        function mostrarDivs() {
            // Muestra los divs y su contenido con un efecto de fadeIn
            $("#infoBox, #actions").fadeIn(1000);
        }

        function mostrarElementos() {
            // Muestra las plataformas
            $("#platform1, #platform2").fadeIn(1000);

            // Muestra al oponente (Articuno) después de 2 segundos
            $("#enemy").fadeIn(2000);

            // Muestra al Pokemon controlado por el usuario (Pikachu) después de 1 segundo
            $("#mypokemon").delay(1000).fadeIn(1000, function () {
                // Muestra el cuadro principal y las opciones de ataque después de 0 segundos
                $("#infoBox, #actions").fadeIn(1000);
            });
        }


        function platform() {

            $("#mypokemon").animate({ top: "+=20px" }, 600).animate({ top: "-=20px" }, 600)
            $("#enemy").animate({ top: "-=10px" }, 600).animate({ top: "+=10px" }, 600)
            //$("#platform2").animate({top: "-=10px"}, 800).animate({top: "+=10px"}, 800)

            timer = setTimeout('platform()', 1200);
        }

        $(document).ready(function () {
            /*
            alert(ditto.getPrototypeOf(hp));
            document.getElementById("HpOpponent").textContent = ditto.getPrototypeOf(hp);
            document.getElementById("mypokemonHp").textContent = pikachu.getPrototypeOf(hp);
            -> */
            document.getElementById("HpOpponent").textContent = articuno.nombre + " (HP-" + articuno.getHp() + ") (Lv-" + articuno.nivel + ")";
            document.getElementById("mypokemonHp").textContent = pikachu.nombre + " (HP-" + pikachu.getHp() + ") (Lv-" + pikachu.nivel + ")";
            document.getElementById("pokebola").textContent = "Pokeballs :" + pokeballsDisponibles;

            document.getElementById("pikachu").textContent = "Pikachu: " + pikachu.getHp();
            document.getElementById("ditto").textContent = "Ditto: " + ditto.getHp();


            // Oculta elementos al principio
            $("#platform1, #platform2, #enemy, #mypokemon").hide();

            // Llama a la función mostrarElementos después de 3 segundos
            setTimeout(mostrarElementos, 3000);

            // Inicia la animación de las plataformas
            platform();

            $(".selector").hide();
            $("#selector1").show();

            $(".actionBox").on("mouseenter", function () {
                $(".selector").hide();
                id = $(".actionBox").index(this);
                $("#selector" + (id + 1)).show();
            })

            $(".attackBox").on("mouseenter", function () {
                $(".triangle").hide();
                id = $(".attackBox").index(this);
                $("#triangle" + (id + 1)).show();
            })

            //Este codgo hace que al clickar en figth, hace que se oculte mainBox(whatshould pika do), y se muestren los atacks
            $("#selector1").on("click", function cambioAtaques() {
                console.log("click");
                $("#mainBox").hide();
                $("#mochila").hide();
                $("#pokemons").hide();
                $("#attacks").hide();
                $("#attacks2").hide();
                $("#attacks3").hide();

                if (pokemonActual == "Pikachu") {
                    $("#attacks").css("display", "flex");
                } else {
                    $("#attacks3").css("display", "flex");
                }
                $(".triangle").hide();
                $("#triangle1").show();
            })

            //Este codgo hace que al clickar en bag, hace que se oculte mainBox(whatshould pika do), y se muestren las pokebolas
            $("#selector2").on("click", function () {
                console.log("click");
                $("#mainBox").hide();
                $("#attacks").hide();
                $("#attacks2").hide();
                $("#attacks3").hide();
                $("#pokemons").hide();
                $("#mochila").css("display", "flex");
                $(".triangle").hide();
                $("#triangle1").show();
            })

            //Este codgo hace que al clickar en Selecion Pokemos, hace que se oculte mainBox(whatshould pika do), y se muestren los pokemons
            $("#selector3").on("click", function () {
                console.log("click");
                $("#mainBox").hide();
                $("#attacks").hide();
                $("#attacks2").hide();
                $("#attacks3").hide();
                $("#mochila").hide();
                $("#pokemons").css("display", "flex");
                $(".triangle").hide();
                $("#triangle1").show();
            })


        });

    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: default;
            user-select: none;
        }

        .circle {
            width: 200px;
            height: 200px;
            background-color: gray;
            border: 2px solid black;
            border-radius: 50%;
            position: relative;
        }

        #opponent {
            position: relative;
            top: 0px;
            /*left: 500px;*/
            height: 350px;
            width: 100%;
        }

        #myzone {
            position: relative;
            height: 350px;
        }

        #platform1 {
            position: absolute;
            top: 180px;
            left: 0px;
            width: 1000px;
            height: auto;
        }

        #platform2 {
            position: absolute;
            top: 200px;
            left: 1050px;
            width: 700px;
            height: auto;
        }

        #mypokemon {
            position: absolute;
            top: 50px;
            left: 300px;
            width: 350px;
            height: auto;
        }

        #enemy {
            position: absolute;
            top: 50px;
            left: 1250px;
            width: 300px;
            height: auto;
        }

        /*
            --------------------------------------------- UI ZONE ----------------------------------------------------
            */

        #ui {
            /*border: 10px solid  black;*/
            height: 290px;
            width: 100%;
            display: flex;
        }

        #fight {
            width: 100%;
            height: 700px;
        }

        #infoBox {
            width: 60%;
            border: 10px solid blue;
            background-color: white;
        }

        #mainBox {
            margin: 20px 20px;
        }

        #mainText {
            font-size: 90px;
        }

        #attacks {
            display: flex;
            flex-wrap: wrap;
            position: relative;
            top: 20px;
            display: none;
        }

        #attacks2 {
            display: flex;
            flex-wrap: wrap;
            position: relative;
            top: 20px;
            display: none;
        }

        #attacks3 {
            display: flex;
            flex-wrap: wrap;
            position: relative;
            top: 20px;
            display: none;
        }

        #mochila {
            display: flex;
            flex-wrap: wrap;
            position: relative;
            top: 20px;
            display: none;
        }

        #pokemons {
            display: flex;
            flex-wrap: wrap;
            position: relative;
            top: 20px;
            display: none;
        }

        .attackBox {
            width: 50%;
            margin: 20px 0px;
            padding-left: 30px;
        }

        .triangle {
            position: absolute;
            width: 20px;
            height: auto;
        }

        #triangle1 {
            left: 5px;
            top: 45px;
        }

        #triangle2 {
            left: 575px;
            top: 45px;
        }

        #triangle3 {
            left: 5px;
            top: 155px;
        }

        #triangle4 {
            left: 575px;
            top: 155px;
        }

        /*
            ------------------------------------------------ ACTIONS (RIGHT SIDE) ----------------------------
            */

        #actions {
            width: 40%;
            border: 10px solid green;
            background-color: white;
            display: flex;
            flex-wrap: wrap;
            position: relative;
        }

        .actionBox {
            width: 50%;
            margin-top: 25px;
            padding-left: 20px;
            /*border: 5px solid  pink;*/
        }

        .actionText {
            font-size: 60px;
        }

        .selector {
            position: absolute;
            box-sizing: border-box;
            width: 350px;
            height: 100px;
            border: 2px solid red;
            /*z-index: 1001;*/
        }

        #selector1 {
            top: 10px;
        }

        #selector2 {
            top: 10px;
            left: 370px;
        }

        #selector3 {
            top: 140px;
            left: 0px;
        }

        #selector4 {
            top: 140px;
            left: 370px;
        }

        /*
            --------------------------------------- GENERAL ------------------------------------------------------------
            */

        .close {
            z-index: 1000;
        }

        .BarraVida {
            border: 2px solid black;
            width: 50%;
            font-size: 30px;
        }

        #HpOpponent {
            float: right;
        }

        #mypokemonHp {
            float: left;
        }
    </style>
</head>

<body>
    <div id="fight">
        <div id="opponent">
            <p id="HpOpponent" class="BarraVida">100</p>
            <img id="platform2" src="img/Deep_Water.webp">
            <img id="enemy" src="https://img.pokemondb.net/sprites/emerald/shiny/articuno.png" alt="enemy"></a>
        </div>

        <div id="myzone">
            <p id="mypokemonHp" class="BarraVida">100</p>
            <img id="platform1" src="img/Deep_Water.webp">
            <img id="mypokemon" src="img/pikachu.png" />
        </div>

    </div>

    <div class="close" id="ui">
        <div class="close" id="infoBox">
            <div id="mainBox">
                <div id="mainText">What should<br />PIKACHU do?</div>
            </div>
            <div id="attacks">
                <div class="attackBox" onclick="ataqueMio('Thunderbolt')">
                    <h1 class="actionText">THUNDER BOLT</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Thunderwave')">
                    <h1 class="actionText">THUNDER WAVE</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Agility')">
                    <h1 class="actionText">AGILITY</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Tackle')">
                    <h1 class="actionText">TACKLE</h1>
                </div>

                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle1" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle2" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle3" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle4" /></div>
            </div>

            <div id="attacks2">
                <div class="attackBox" onclick="ataqueMio('Ice Beam')">
                    <h1 class="actionText">Ice Beam</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Agility')">
                    <h1 class="actionText">Agility</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Swift')">
                    <h1 class="actionText">Swift</h1>
                </div>
                <div class="attackBox" onclick="ataqueMio('Steel wing')">
                    <h1 class="actionText">Steel wing</h1>
                </div>

                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle1" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle2" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle3" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle4" /></div>
            </div>

            <div id="attacks3">
                <div class="attackBox" onclick="ataqueMio('Transformación')">
                    <h1 class="actionText">Transformación</h1>
                </div>

                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle1" /></div>
            </div>

            <div id="mochila">
                <div class="attackBox" onclick="miPokeball.intentarCaptura(articuno)">
                    <h1 id="pokebola" class="actionText">Pokeball</h1>
                </div>

                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle1" /></div>
            </div>

            <div id="pokemons">
                <div class="attackBox">
                    <h1 id="pikachu" class="actionText" onclick="seleccionarPersonaje('Pikachu')">Pikachu</h1>
                </div>
                <div class="attackBox">
                    <h1 id="ditto" class="actionText" onclick="seleccionarPersonaje('Ditto')">Ditto</h1>
                </div>

                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle1" /></div>
                <div id="triangleDiv"><img src="img/Right_triangle.png" class="triangle" id="triangle2" /></div>

            </div>

        </div>
        <div class="close" id="actions">
            <div class="actionBox" id="fightButton">
                <h1 class="actionText">FIGHT</h1>
            </div>
            <div class="actionBox">
                <h1 class="actionText">BAG</h1>
            </div>
            <div class="actionBox">
                <h1 class="actionText">POKEMON</h1>
            </div>
            <div class="actionBox">
                <h1 class="actionText">RUN</h1>
            </div>

            <div class="selector" id="selector1"></div>
            <div class="selector" id="selector2"></div>
            <div class="selector" id="selector3"></div>
            <div class="selector" id="selector4" onclick="run()"></div>
        </div>
    </div>


</body>

</html>